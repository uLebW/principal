<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/login"></ion-back-button>
    </ion-buttons>
    <ion-title>Restablecer Contraseña</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="resetForm" (ngSubmit)="onRequestReset()">
    <ion-item>
      <ion-input label="Correo Electrónico" type="email" formControlName="email"
                 placeholder="tu@ejemplo.com" labelPlacement="floating"></ion-input>
    </ion-item>
    <ion-text color="danger" *ngIf="resetForm.get('email')?.invalid && resetForm.get('email')?.touched">
      <p *ngIf="resetForm.get('email')?.errors?.['required']">El correo es requerido.</p>
      <p *ngIf="resetForm.get('email')?.errors?.['email']">Ingresa un correo válido.</p>
    </ion-text>

    <ion-button expand="block" type="submit" [disabled]="resetForm.invalid || isLoading">
      <ion-spinner *ngIf="isLoading" name="circles"></ion-spinner>
      <span *ngIf="!isLoading">Enviar Enlace de Restablecimiento</span>
    </ion-button>
  </form>

  <p class="ion-text-center ion-margin-top">
    ¿Ya tienes una cuenta? <a routerLink="/login">Iniciar Sesión</a>
  </p>
</ion-content>